#include "MenuScene.h"
#include "GameManager.h"
#include "Common.h"
#include <iostream>

// ============== ä¸»å‡½æ•° ==============
int main()
{
    // åˆå§‹åŒ–éšæœºæ•°ç§å­
    Utils::InitRandom();

    // åˆ›å»ºèœå•
    MenuScene menu;

    // æ˜¾ç¤ºèœå•ï¼Œè·å–ç”¨æˆ·é€‰æ‹©çš„æ¨¡å¼
    GameMode selectedMode = menu.Show();

    // åˆ›å»ºæ¸¸æˆç®¡ç†å™¨
    GameManager game;

    // åˆå§‹åŒ–æ¸¸æˆ
    game.Init(selectedMode);

    // è¿è¡Œæ¸¸æˆä¸»å¾ªç¯
    game.Run();

    return 0;
}

/*
 * ============== é¡¹ç›®ç»“æ„è¯´æ˜ ==============
 *
 * ğŸ“‚ åŸºç¡€å…¬å…±æ¨¡å— (Infrastructure)
 *    - Common.h          : å…¨å±€å¸¸é‡ã€æšä¸¾ã€ç»“æ„ä½“å®šä¹‰
 *    - Utils.h           : å·¥å…·å‡½æ•°é›†åˆ
 *
 * ğŸ“‚ æ¥å£å±‚ (Interfaces)
 *    - IController.h     : æ§åˆ¶å™¨æ¥å£ï¼ˆè§£è€¦æ ¸å¿ƒï¼‰
 *
 * ğŸ“‚ æ¸¸æˆå®ä½“æ¨¡å— (Game Objects / Model)
 *    - Snake.h/.cpp      : è›‡çš„æœ¬ä½“
 *    - GameMap.h/.cpp    : åœ°å›¾æ•°æ®ç®¡ç†
 *    - FoodManager.h/.cpp: é£Ÿç‰©ç”Ÿæˆä¸ç®¡ç†
 *
 * ğŸ“‚ æ§åˆ¶ç­–ç•¥æ¨¡å— (Strategies / Controller)
 *    - KeyboardController.h/.cpp : æœ¬åœ°ç©å®¶æ§åˆ¶å™¨
 *    - NetworkController.h/.cpp  : ç½‘ç»œï¼ˆå¯¹æ‰‹ï¼‰æ§åˆ¶å™¨
 *    - AIController.h/.cpp       : ç”µè„‘æ§åˆ¶å™¨ï¼ˆåŠ åˆ†é¡¹ï¼‰
 *
 * ğŸ“‚ æ¸²æŸ“æ¨¡å— (View)
 *    - Renderer.h/.cpp   : å°è£…EasyXæ“ä½œ
 *
 * ğŸ“‚ ç½‘ç»œé€šä¿¡æ¨¡å— (Network)
 *    - Client.h          : åŠ©æ•™æä¾›çš„ç½‘ç»œæ¡†æ¶
 *    - NetworkManager.h/.cpp : æ¸¸æˆé€»è¾‘ä¸åº•å±‚ç½‘ç»œçš„é€‚é…å™¨
 *
 * ğŸ“‚ ç³»ç»Ÿæ ¸å¿ƒæ¨¡å— (System)
 *    - GameManager.h/.cpp: æ ¸å¿ƒçŠ¶æ€æœº
 *    - MenuScene.h/.cpp  : èœå•åœºæ™¯
 *    - main.cpp          : ç¨‹åºå…¥å£
 *
 * ============== å¼€å‘å»ºè®® ==============
 *
 * Step 1: ç¡®ä¿ç¼–è¯‘é€šè¿‡
 *    - æ·»åŠ æ‰€æœ‰.cppæ–‡ä»¶åˆ°é¡¹ç›®
 *    - é…ç½®EasyXåº“
 *    - ç¼–è¯‘æ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯
 *
 * Step 2: å®ç°æ¸²æŸ“æ¨¡å—
 *    - åœ¨ Renderer.cpp ä¸­å®ç°åŸºæœ¬çš„ç»˜å›¾åŠŸèƒ½
 *    - æµ‹è¯•èƒ½å¦æ˜¾ç¤ºä¸€ä¸ªé™æ€çš„è›‡
 *
 * Step 3: å®ç°è›‡çš„ç§»åŠ¨
 *    - åœ¨ Snake.cpp ä¸­å®ç° Move() å’Œ Update()
 *    - åœ¨ KeyboardController.cpp ä¸­å®ç°é”®ç›˜æ£€æµ‹
 *    - æµ‹è¯•èƒ½å¦ç”¨é”®ç›˜æ§åˆ¶è›‡ç§»åŠ¨
 *
 * Step 4: å®Œå–„å•æœºæ¸¸æˆ
 *    - å®ç° FoodManager
 *    - å®ç° GameMap çš„ç¢°æ’æ£€æµ‹
 *    - å®ç° GameManager çš„ä¸»å¾ªç¯
 *    - æ­¤æ—¶åº”è¯¥èƒ½ç©å®Œæ•´çš„å•æœºç‰ˆ
 *
 * Step 5: æ·»åŠ ç½‘ç»œåŠŸèƒ½
 *    - é›†æˆåŠ©æ•™æä¾›çš„ Client.h
 *    - å®ç° NetworkManager
 *    - å®ç° NetworkController
 *    - æµ‹è¯•ç½‘ç»œå¯¹æˆ˜
 *
 * Step 6: æ·»åŠ é«˜çº§åŠŸèƒ½
 *    - å®ç° AI æ§åˆ¶å™¨
 *    - å®ç°è¿›é˜¶ç‰ˆ/é«˜çº§ç‰ˆçš„ç‰¹æ®Šè§„åˆ™
 *    - å®ç°è®°å½•ç³»ç»Ÿ
 *
 * ============== æ³¨æ„äº‹é¡¹ ==============
 *
 * 1. æ‰€æœ‰TODOæ ‡è®°çš„åœ°æ–¹éƒ½éœ€è¦ä½ å®ç°
 * 2. ä¿æŒæ¥å£ä¸å˜ï¼Œåªå®ç°å‡½æ•°ä½“
 * 3. æµ‹è¯•æ—¶é€æ­¥æ·»åŠ åŠŸèƒ½ï¼Œä¸è¦ä¸€æ¬¡å…¨å†™å®Œ
 * 4. ç½‘ç»œéƒ¨åˆ†å¯ä»¥æœ€åå®ç°ï¼Œå…ˆç¡®ä¿å•æœºç‰ˆèƒ½ç©
 * 5. è®°å¾—å¤„ç†å†…å­˜é‡Šæ”¾ï¼Œé¿å…å†…å­˜æ³„æ¼
 *
 */
